(this["webpackJsonp@armin/avro-docs-react"]=this["webpackJsonp@armin/avro-docs-react"]||[]).push([[0],{161:function(e){e.exports=JSON.parse('[{"name":"User","namespace":"com.example.internal","type":"record","doc":"This is a user record in a fictitious to-do-list management app. It supports arbitrary grouping and nesting of items, and allows you to add items by email or by tweeting.\\n\\nNote this app doesn\'t actually exist. The schema is just a demo for [Avrodoc](https://github.com/ept/avrodoc)!","aliases":[]},{"name":"Person","namespace":"com.example","type":"record","doc":"","aliases":[]}]')},162:function(e){e.exports=JSON.parse('{"com.example.internal":["User"],"com.example":["Person"]}')},180:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){"use strict";a.r(t);var n,c=a(0),r=a.n(c),s=a(31),o=a.n(s),i=(a(180),a(35)),l=a(23),u=a(41),p=a(339),d=a(79),f=a.n(d),m=a(102),j=a(91),y=a(161),h=a(162),O=a(28),b=a(29),x=function(){function e(){Object(O.a)(this,e)}return Object(b.a)(e,null,[{key:"mapToJsonObject",value:function(e){var t={};return e.forEach((function(e,a){t[a]=e})),t}},{key:"jsonToMap",value:function(e){var t=new Map;for(var a in e)t.set(a,e[a]);return t}}]),e}(),g=a(6);!function(e){e[e.SetData=0]="SetData"}(n||(n={}));var v={namespaceTree:new Map,schemas:[],failure:""};function T(e,t){switch(t.type){case n.SetData:var a=t.payload;return Object(j.a)(Object(j.a)({},e),a);default:throw new Error("Unknown Action!")}}var N=Object(c.createContext)([v,function(){}]),E=function(e){var t=Object(c.useReducer)(T,v),a=Object(u.a)(t,2),r=a[0],s=a[1],o=Object(c.useMemo)((function(){return[r,s]}),[r,s]),i=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{s({type:n.SetData,payload:{namespaceTree:x.jsonToMap(h),schemas:y,failure:""}})}catch(t){console.log(t),s({type:n.SetData,payload:{namespaceTree:new Map,schemas:[],failure:"Failed loading schema tree!"}})}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){i()}),[]),Object(g.jsx)(N.Provider,Object(j.a)(Object(j.a)({value:o},e),{},{children:e.children}))};function k(){var e=Object(c.useContext)(N);if(void 0===e)throw new Error("DataContext must be used within a DataProvider");return e}var A,I,S=a.p+"static/media/loading.390b818e.png",R=a(342),w=a(341),C=a(60),U=a.n(C),D=a(77),M=function(e){var t=e.data,a=e.color;return Object(g.jsx)(D.a,{title:t.tooltip,mouseEnterDelay:.4,children:Object(g.jsx)(R.a,{color:a,children:t.path?Object(g.jsx)(i.b,{to:"/".concat(t.path),children:t.text}):t.text})})},L="null";!function(e){e.BOOLEAN="boolean",e.INT="int",e.LONG="long",e.FLOAT="float",e.DOUBLE="double",e.BYTES="bytes",e.STRING="string"}(A||(A={})),function(e){e.ARRAY="array",e.ENUM="enum",e.FIXED="fixed",e.MAP="map",e.RECORD="record",e.UNION="union"}(I||(I={}));var F=function(){function e(){Object(O.a)(this,e)}return Object(b.a)(e,null,[{key:"pick",value:function(e){try{if(!e)return"grey";switch(e){case L:return"red";case A.BOOLEAN:case A.BYTES:case A.DOUBLE:case A.FLOAT:case A.INT:case A.LONG:case A.STRING:return"blue";case I.UNION:return"orange";case I.RECORD:return"geekblue";case I.ENUM:return"purple";case I.ARRAY:return"green";case I.MAP:return"volcano"}var t=e;if(!t.type)return"grey";switch(t.type){case I.UNION:return"orange";case I.RECORD:return"geekblue";case I.ENUM:return"purple";case I.ARRAY:return"green"}}catch(a){console.error(e,a)}return"grey"}}]),e}(),P=function(){function e(){Object(O.a)(this,e)}return Object(b.a)(e,null,[{key:"truncateWithEllipsis",value:function(e,t){if(!e)return"";var a=e;return a.length>t&&(a="".concat(a.substr(0,t),"...")),a}}]),e}(),B=function(){function e(){Object(O.a)(this,e)}return Object(b.a)(e,null,[{key:"formatTag",value:function(t,a){switch(t){case L:return{text:t.toUpperCase(),tooltip:"no value"};case A.BOOLEAN:return{text:t.toUpperCase(),tooltip:"a binary value"};case A.INT:return{text:t.toUpperCase(),tooltip:"32-bit signed integer"};case A.LONG:return{text:t.toUpperCase(),tooltip:"64-bit signed integer"};case A.FLOAT:return{text:t.toUpperCase(),tooltip:"single precision (32-bit) IEEE 754 floating-point number"};case A.DOUBLE:return{text:t.toUpperCase(),tooltip:"double precision (64-bit) IEEE 754 floating-point number"};case A.BYTES:return{text:t.toUpperCase(),tooltip:"sequence of 8-bit unsigned bytes"};case A.STRING:return{text:t.toUpperCase(),tooltip:"unicode character sequence"}}var n=t,c=t;switch(n.type){case I.FIXED:case I.RECORD:case I.ENUM:return{text:n.name,tooltip:P.truncateWithEllipsis(n.doc,500),path:n.namespace&&n.namespace.length?"".concat(n.namespace,".").concat(n.name,"?source=").concat(a.sourceItemName):"".concat(a.defaultNamespace,".").concat(n.name,"?source=").concat(a.sourceItemName)}}if(c.type===I.ARRAY){var r=e.formatTag(c.items,a);return{text:r.text,tooltip:r.tooltip,path:r.path}}return c.type===I.MAP?{text:c.type.toUpperCase(),tooltip:"",path:""}:c.logicalType&&c.logicalType.length?{text:c.logicalType,tooltip:"Logical Type",path:""}:"string"===typeof t?{text:t,tooltip:"",path:""}:{text:"TYPE IS UNKNOWN",tooltip:"",path:""}}}]),e}(),Y=[{title:"Name",dataIndex:"name",key:"name",width:350,render:function(e,t){return Object(g.jsx)(i.b,{to:"/".concat(t.namespace,".").concat(e),children:e})}},{title:"Type",dataIndex:"type",width:100,className:"all-type-column",render:function(e){return Object(g.jsx)(R.a,{style:{textAlign:"center"},children:Object(g.jsx)("strong",{children:e.toUpperCase()})})}},{title:"Documentation",dataIndex:"doc",className:"all-doc-column",render:function(e){return Object(g.jsx)(U.a,{linkTarget:"_blank",children:e})}}],G=[{title:"Name",dataIndex:"name",key:"name"},{title:"Data Type",dataIndex:"type",key:"type",width:250,render:function(){function e(){Object(O.a)(this,e)}return Object(b.a)(e,null,[{key:"render",value:function(t,a){var n=Math.random();switch(t){case L:case A.BOOLEAN:case A.BYTES:case A.DOUBLE:case A.FLOAT:case A.INT:case A.LONG:case A.STRING:return Object(g.jsx)(M,{color:F.pick(t),data:B.formatTag(t,a)},n.toString());case I.RECORD:case I.ENUM:case I.FIXED:return Object(g.jsx)(M,{color:F.pick(t.type),data:B.formatTag(t,a)},n.toString())}var r=t;if(!r)return Object(g.jsx)(g.Fragment,{});if(r.type===I.RECORD||r.type===I.ENUM||r.type===I.FIXED)return Object(g.jsx)(M,{color:F.pick(r.type),data:B.formatTag(t,a)},n.toString());if(r.type===I.ARRAY){var s=B.formatTag(r.items,a);return s.text="ARRAY<".concat(s.text,">"),Object(g.jsx)(M,{color:F.pick(r.type),data:s},n.toString())}if(r instanceof Array){var o=r[0],i=r[1];return Object(g.jsxs)(c.Fragment,{children:[e.render(o,a),"OR\xa0\xa0",e.render(i,a)]},n.toString())}if(r.type===I.MAP){var l=B.formatTag(r.values,a);return l.text="MAP<".concat(l.text,">"),Object(g.jsx)(M,{color:F.pick(r.type),data:l},n.toString())}return r.logicalType&&r.logicalType.length,Object(g.jsx)(M,{color:F.pick(r.type),data:B.formatTag(t,a)},n.toString())}}]),e}().render},{title:"Default",dataIndex:"defaultValue",key:"default"},{title:"Documentation",dataIndex:"doc",key:"docs",render:function(e){return Object(g.jsx)(U.a,{linkTarget:"_blank",children:e})}}],J=[{title:"Options",dataIndex:"option",key:"option",render:function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{children:e.title}),e.default?Object(g.jsx)(w.a,{offset:[40,0],count:"deserialization default value",style:{backgroundColor:"#108ee9"}}):null]})}}],K=function(){var e=0,t=k(),a=Object(u.a)(t,1)[0];return a.failure.length>0?Object(g.jsx)("p",{children:"Failed Loading Schemas"}):0===a.schemas.length?Object(g.jsx)("img",{src:S,className:"App-logo",alt:"loading..."}):Object(g.jsx)(p.a,{bordered:!0,rowKey:function(){return e++},columns:Y,dataSource:a.schemas,pagination:{defaultPageSize:50,hideOnSinglePage:!0,simple:!0},scroll:{y:"82vh",scrollToFirstRowOnChange:!0}})},q=a(340),W=function(e){var t=e.schema,a=-1,n=t.name.substring(t.name.lastIndexOf(".")+1),c=t.symbols.map((function(e){return a++,{option:{title:e,default:e===t.default},key:a.toString()}}));return Object(g.jsxs)("div",{style:{padding:"24px"},children:[Object(g.jsx)(q.a,{title:n,tags:Object(g.jsx)(R.a,{color:F.pick(I.ENUM),children:I.ENUM.toUpperCase()}),style:{paddingLeft:0}}),Object(g.jsxs)("p",{children:["Fully qualified name: ",Object(g.jsxs)("strong",{children:[t.namespace,".",t.name]})]}),Object(g.jsx)("code",{children:Object(g.jsx)(U.a,{linkTarget:"_blank",children:t.doc||""})}),Object(g.jsx)(p.a,{bordered:!0,columns:J,dataSource:c,pagination:!1})]})},X=function(){function e(){Object(O.a)(this,e)}return Object(b.a)(e,null,[{key:"isRecordType",value:function(e){return!("string"===typeof e||e instanceof Array)&&"record"===e.type}},{key:"isArrayType",value:function(e){return!("string"===typeof e||e instanceof Array)&&"array"===e.type}},{key:"isMapType",value:function(e){return!("string"===typeof e||e instanceof Array)&&"map"===e.type}},{key:"isEnumType",value:function(e){return"enum"===e.type}},{key:"isUnion",value:function(e){return e instanceof Array}},{key:"isLogicalType",value:function(e){return!("string"===typeof e||e instanceof Array)&&"logicalType"in e}}]),e}(),_=function(){function e(){Object(O.a)(this,e)}return Object(b.a)(e,null,[{key:"getNamedTypes",value:function(e){return JSON.parse(e)}},{key:"extractExternalTypes",value:function(t,a,n){if(t)if(X.isRecordType(t)&&t.fields){if(a.has("".concat(t.namespace||n,".").concat(t.name)))return;e.addNamespaceIfNeeded(t,n),a.set("".concat(t.namespace,".").concat(t.name),t),t.fields.map((function(t){if(t.type&&"string"!==typeof t.type){var c=t.type;if(X.isRecordType(c))e.addNamespaceIfNeeded(c,n),e.extractExternalTypes(c,a,c.namespace);else if(X.isEnumType(c))e.addNamespaceIfNeeded(c,n),a.set("".concat(c.namespace,".").concat(c.name),c);else if(X.isArrayType(c)&&"string"!==typeof c.items){var r=c.items;e.addNamespaceIfNeeded(r,n),e.extractExternalTypes(c.items,a,r.namespace)}else if(X.isUnion(c)){for(var s=c,o=0;o<s.length;o++)if("string"!==typeof s[o]){var i=s[o];e.addNamespaceIfNeeded(i,n),e.extractExternalTypes(i,a,i.namespace)}}else if(X.isMapType(c)&&"string"!==typeof c.values){var l=c;l.values&&l.values.name&&e.addNamespaceIfNeeded(l.values,n),e.extractExternalTypes(l.values,a,n)}}}))}else X.isEnumType(t)&&(e.addNamespaceIfNeeded(t,n),a.set("".concat(t.namespace,".").concat(t.name),t))}},{key:"addNamespaceIfNeeded",value:function(e,t){e.namespace&&e.namespace.length||(e.namespace=t)}}]),e}(),z=function(e){var t=e.schema.current,a=t.namespace,n=new Map;_.extractExternalTypes(e.schema.base,n,e.schema.base.namespace);var c=t.fields.map((function(c){if(c&&"string"===typeof c.type)(c.type!==t.name||c.namespace)&&(c.type.indexOf(".")>-1&&n.has(c.type)?c.type=n.get(c.type):n.has("".concat(a,".").concat(c.type))&&(c.type=n.get("".concat(a,".").concat(c.type))));else if(c&&X.isUnion(c.type))for(var r=c.type,s=0;s<r.length;s++){var o=c.type[s];"string"===typeof o&&(o!==t.name||o.namespace)&&(o.indexOf(".")>-1&&n.has(o)?c.type[s]=n.get(o):n.has("".concat(a,".").concat(o))&&(c.type[s]=n.get("".concat(a,".").concat(o))))}else if(c&&X.isArrayType(c.type)){var i=c.type.items;"string"===typeof i&&(i!==t.name||i.namespace)&&(i.indexOf(".")>-1&&n.has(i)?c.type.items=n.get(i):n.has("".concat(a,".").concat(i))&&(c.type.items=n.get("".concat(a,".").concat(i))))}else if(c&&X.isMapType(c.type)){var l=c.type.values;"string"===typeof l&&(l!==t.name||l.namespace)&&(l.indexOf(".")>-1&&n.has(l)?c.type.values=n.get(l):n.has("".concat(a,".").concat(l))&&(c.type.values=n.get("".concat(a,".").concat(l))))}return{sourceItemName:e.sourceItemName?e.sourceItemName:"".concat(t.namespace,".").concat(t.name),defaultNamespace:a,name:c.name,type:c.type,defaultValue:void 0===c.default?"":JSON.stringify(c.default),doc:c.doc}})),r=0;return Object(g.jsxs)("div",{style:{padding:"24px"},children:[Object(g.jsx)(q.a,{title:t.name,tags:Object(g.jsx)(R.a,{color:F.pick(I.RECORD),children:I.RECORD.toUpperCase()}),style:{paddingLeft:0}}),Object(g.jsxs)("p",{children:["Fully qualified name: ",Object(g.jsxs)("strong",{children:[t.namespace,".",t.name]})]}),Object(g.jsx)("code",{children:Object(g.jsx)(U.a,{linkTarget:"_blank",children:t.doc||""})}),Object(g.jsx)(p.a,{bordered:!0,rowKey:function(){return r++},columns:G,dataSource:c,pagination:!1})]})},V=a.p+"static/media/error.fdf679d2.png",H=function(){var e=Object(l.h)().item,t=Object(c.useState)(),a=Object(u.a)(t,2),n=a[0],r=a[1],s=new Map,o=Object(c.useState)(!1),i=Object(u.a)(o,2),p=i[0],d=i[1],j=new URLSearchParams(Object(l.g)().search).get("source")||void 0,y="".concat((j||e).replaceAll(".","/"),".avsc"),h=function(){var t=Object(m.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("/avro-docs-react","/avro/").concat(y),{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return a=t.sent,t.t0=_,t.next=7,a.text();case 7:t.t1=t.sent,n=t.t0.getNamedTypes.call(t.t0,t.t1),j?(_.extractExternalTypes(n,s,n.namespace),r({base:n,current:s.get(e)})):r({base:n,current:n}),t.next=16;break;case 12:t.prev=12,t.t2=t.catch(0),console.error(t.t2),d(!0);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){h()}),[e]),n&&n.current&&n.current.name?X.isEnumType(n.current)?Object(g.jsx)(W,{schema:n.current}):Object(g.jsx)(z,{schema:n,sourceItemName:j}):p?Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{src:V,alt:"Error Loading"}),Object(g.jsx)("p",{style:{fontWeight:900},children:"Schema not found!"})]}):Object(g.jsx)("img",{src:S,className:"App-logo",alt:"loading..."})},Q=a(338),Z=a(44),$=function(){var e=Q.a.Footer;return Object(g.jsx)(e,{style:{textAlign:"center",borderTop:"1px solid navy",padding:"0"},children:"Avro Docs React"})},ee=a(88),te=a.p+"static/media/logo.46066d9c.png",ae=function(){var e=Q.a.Header,t=ee.a.Option,a=ee.a.OptGroup,n=k(),c=Object(u.a)(n,1)[0],r=Object(l.f)(),s=Object(l.h)().item,o=Object(l.g)();return Object(g.jsxs)(e,{children:[Object(g.jsx)("div",{style:{float:"left"},children:Object(g.jsx)(i.b,{to:"/",children:Object(g.jsxs)("h1",{style:{color:"#ffffff"},children:[Object(g.jsx)("img",{src:te,style:{width:"50px",marginRight:"15px"},alt:"logo"}),"Avro Docs React"]})})}),Object(g.jsx)("div",{style:{float:"right"},children:Object(g.jsx)(ee.a,{showSearch:!0,style:{width:600},placeholder:"Select a schema",onSelect:function(e){r.push("/".concat(e))},onChange:function(e){void 0===e&&"/"!==o.pathname&&r.push("/")},allowClear:!0,defaultActiveFirstOption:!1,disabled:0===c.schemas.length,value:s,filterOption:function(e,t){var a;return(null===t||void 0===t||null===(a=t.value)||void 0===a?void 0:a.toLowerCase().indexOf(e.toLowerCase()))>=0},children:Array.from(c.namespaceTree.keys()).map((function(e){var n;return Object(g.jsx)(a,{label:Object(g.jsx)("h3",{children:e}),children:null===(n=c.namespaceTree.get(e))||void 0===n?void 0:n.map((function(a){return Object(g.jsx)(t,{value:"".concat(e,".").concat(a),children:a},"".concat(e,".").concat(a))}))},e)}))})})]})},ne=function(e){var t=Q.a.Content,a=Q.a.Sider,n=Z.a.SubMenu,c=k(),r=Object(u.a)(c,1)[0],s=Object(l.h)().item||"";return Object(g.jsxs)(Q.a,{children:[Object(g.jsx)(ae,{}),Object(g.jsxs)(Q.a,{style:{height:"calc(100vh - 88px)"},children:[Object(g.jsx)(a,{className:"sider-layout",width:300,children:Object(g.jsx)(Z.a,{mode:"inline",theme:"dark",forceSubMenuRender:!0,inlineCollapsed:!1,defaultSelectedKeys:[s],defaultOpenKeys:[s.substring(0,s.lastIndexOf("."))],children:Array.from(r.namespaceTree.keys()).map((function(e){return Object(g.jsx)(n,{title:e,children:r.namespaceTree.get(e).map((function(t){var a="".concat(e,".").concat(t);return Object(g.jsx)(Z.a.Item,{children:Object(g.jsx)(i.b,{to:"/".concat(a),children:t})},a)}))},e)}))})}),Object(g.jsx)(t,{className:"content-layout",children:e.children})]}),Object(g.jsx)($,{})]})};a(335);function ce(){return Object(g.jsx)(i.a,{children:Object(g.jsx)(E,{children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{path:"/:item",children:Object(g.jsx)(ne,{children:Object(g.jsx)(H,{})})}),Object(g.jsx)(l.a,{path:"/",children:Object(g.jsx)(ne,{children:Object(g.jsx)(K,{})})})]})})})}var re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,343)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(ce,{})}),document.getElementById("root")),re()}},[[336,1,2]]]);
//# sourceMappingURL=main.13d66d22.chunk.js.map